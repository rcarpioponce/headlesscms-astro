---
import { fetchPosts, type WpPostsResponse } from '../lib/wp';
import '../styles/global.css';
import '../styles/index.css';
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro';
import Pagination from '../components/Pagination.astro';

const postsResponse: WpPostsResponse = await fetchPosts(6, 1);
const { posts, currentPage, totalPages, hasNextPage, hasPrevPage } = postsResponse;
---
<Layout 
  title="Blog - Aprende cada día más" 
  description="Descubre las últimas noticias y artículos sobre tecnología, desarrollo web y programación. Blog de contenido de calidad para aprender cada día más."
>
  <div class="blog-header">
    <h1>Blog</h1>
    <p class="blog-subtitle">Descubre las últimas noticias y artículos</p>
  </div>
  
  <ul class="posts-list">
    {posts.map((post) => (
      <PostCard post={post} />
    ))}
  </ul>
  
  {totalPages > 1 && (
    <Pagination 
      currentPage={currentPage}
      totalPages={totalPages}
      hasNextPage={hasNextPage}
      hasPrevPage={hasPrevPage}
      baseUrl="/"
    />
  )}
</Layout>

<style>
.blog-header {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem 0;
}

.blog-header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: var(--text-primary);
  letter-spacing: -0.02em;
}

.blog-subtitle {
  font-size: 1.1rem;
  color: var(--text-secondary);
  margin: 0;
  font-weight: 400;
}

/* Mobile styles */
@media (max-width: 768px) {
  .blog-header {
    margin-bottom: 2rem;
    padding: 1rem 0;
  }
  
  .blog-header h1 {
    font-size: 2rem;
  }
  
  .blog-subtitle {
    font-size: 1rem;
  }
}
</style>
